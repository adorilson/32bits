<!-- 
<p-dialog [(visible)]="visibilidade" [modal]="false" position="bottom-right" [style]="{ width: '20vw', height:'25vw'}" [closable]="false" [draggable]="false">
    <p-header >
        <app-cabecacho-chat [grupo]="grupo"></app-cabecacho-chat>
    </p-header>
    <div id="scrollChat" style="max-height:15vw">
        <p-card *ngFor="let m of mensagens$ | async" header={{getHeader(m.estudante)}}>
            
            {{m.texto}}
        </p-card>
    </div>
    <p-footer [style]="{ height: '10px'}">
        
        <input pInputText id="textoChat" [(ngModel)]="mensagem.texto" (keydown.enter)="enviar()" style="width:80%">
            <button (click)="enviar()" icon="pi pi-arrow-circle-right" style="width:10%" pButton></button>
    </p-footer>
</p-dialog>
 -->

<!-- <nb-chat title="Nebular Conversational UI">
    <nb-chat-message *ngFor="let msg of mensagens$ | async" type="text" [message]="msg.texto"
        [sender]="msg.estudante.nome">
    </nb-chat-message>

    <nb-chat-form (send)="enviar($event)" [dropFiles]="false">
    </nb-chat-form>
</nb-chat> -->

<ng-chat *ngIf="grupoInicializado == true && grupo != null"  [adapter]="grupoAdapter" [historyEnabled]="false" [historyPageSize]="4" [hideFriendsList]="false"
    [userId]="estudante.pk()" [groupAdapter]="grupoAdapter" 
    #ngChatInstance
    title='Equipe'
    messagePlaceholder="Escreva uma mensagem"

    (onParticipantChatOpened)="abrirConversa($event)" (onParticipantClicked)="clicarParticipante($event)"></ng-chat>